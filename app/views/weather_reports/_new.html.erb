<!-- app/views/weather_reports/_new.html.erb -->

<h2 class="section-title">How is the weather?</h2>

<form action="<%= weather_reports_url %>" method="post">

  <%= insert_form_authenticity_token %>

  <p>
    <label for="temperature">Temperature</label>
    <input
      type="text"
      name="weather_report[temperature]"
      value="<%= @weather_report.try(&:temperature) %>"
      id="temperature">
  </p>

  <p>
    <label for="condition">Condition</label>
    <select name="weather_report[weather_condition_id]" id="condition">
      <% weather_conditions.each do |condition| %>
        <option
          value="<%= condition.id %>"
          "<%= "selected" if @weather_report.try(&:weather_condition_id) == condition.id %>">
          <%= condition.description %>
        </option>
      <% end %>
    </select>
  </p>

  <p>
    <label for="city">City</label>
    <select name="weather_report[city_id]" id="city">
      <% cities.each do |city| %>
        <option
          value="<%= city.id %>"
          <%= "selected" if @weather_report.try(&:city_id) == city.id %>>
          <%= city.name %>
        </option>
      <% end %>
    </select>
  </p>

  <p><input type="submit" value="Submit"></p>
</form>