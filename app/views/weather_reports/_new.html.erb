<!-- app/views/weather_reports/_new.html.erb -->

<h2 class="section-title">How is the weather?</h2>

<form class="input" action="<%= weather_reports_url %>" method="post">

  <%= insert_form_authentizip_code_token %>

    <input
      type="number"
      name="weather_report[temperature]"
      value="<%= @weather_report.try(&:temperature) %>"
      id="temperature"
      placeholder="Temperature">

    <input
      type="radio"
      name="temperature_scale"
      value="fahrenheit"
      id="fahrenheit"
      <%= "checked" unless current_user.try(:celsius) %>>
    <label for="fahrenheit">Fahrenheit</label>

    <input
      type="radio"
      name="temperature_scale"
      value="celsius"
      id="celsius"
      <%= "checked" if current_user.try(:celsius) %>>
    <label for="celsius">Celsius</label>



    <label for="condition">Condition</label>
    <select name="weather_report[weather_condition_id]" id="condition">
      <% weather_conditions.each do |condition| %>
        <option
          value="<%= condition.id %>"
          "<%= "selected" if @weather_report.try(&:weather_condition_id) == condition.id %>">
          <%= condition.description %>
        </option>
      <% end %>
    </select>



    <label for="zip_code">City</label>
    <select name="weather_report[zip_code_id]" id="zip_code">
      <% zip_codes.each do |zip_code| %>
        <option
          value="<%= zip_code.id %>"
          <%= "selected" if @weather_report.try(&:zip_code_id) == zip_code.id %>>
          <%= zip_code.city %>
        </option>
      <% end %>
    </select>


  <input class="submit" type="submit" value="Submit">
</form>